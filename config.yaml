server:
  http_port: 23890      # Creative port to avoid collisions (based on project 2389)
  http_host: "0.0.0.0"
  websocket_port: 23891 # WebSocket on sequential port
  websocket_host: "0.0.0.0"
  management_port: 23892 # Management API (localhost only)
  management_host: "127.0.0.1"

agent:
  command: "npx"
  args: ["@zed-industries/claude-code-acp"]
  env:
    # Set to empty string for Claude subscription auth, or "${ANTHROPIC_API_KEY}" for API key auth
    ANTHROPIC_API_KEY: ""
    HOME: "${HOME}"
    PATH: "${PATH}"
  startup_timeout_seconds: 10
  max_concurrent_sessions: 100

# Container mode config (set mode: "container" to use)
# container:
#   image: "acp-relay-agent:latest"
#   docker_host: "unix:///var/run/docker.sock"
#   network_mode: "bridge"
#   memory_limit: "512m"
#   cpu_limit: 1.0
#   workspace_host_base: "/tmp/acp-workspaces"
#   workspace_container_path: "/workspace"
#   auto_remove: true
#   startup_timeout_seconds: 10

database:
  path: "./relay-messages.db"
