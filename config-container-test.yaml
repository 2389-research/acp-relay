server:
    http_port: 8080
    http_host: "0.0.0.0"
    websocket_port: 8081
    websocket_host: "0.0.0.0"
    management_port: 8082
    management_host: "127.0.0.1"

agent:
    mode: "container"
    command: "npx"  # Runtime command (not baked into image)
    args:
        - "@zed-industries/claude-code-acp"
    env:
        ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"
        HOME: "/root"  # Container home directory
        PATH: "/usr/local/bin:/usr/bin:/bin"  # Container PATH
    startup_timeout_seconds: 10
    max_concurrent_sessions: 100

    container:
        image: "acp-relay-runtime:latest"  # Generic runtime, agent specified via command/args
        docker_host: "unix:///Users/harper/.config/colima/docker.sock"
        network_mode: "bridge"
        memory_limit: "512m"
        cpu_limit: 1.0
        workspace_host_base: "$XDG_DATA_HOME/acp-relay/workspaces"
        workspace_container_path: "/workspace"
        auto_remove: true
        startup_timeout_seconds: 10

database:
    path: "$XDG_DATA_HOME/acp-relay/relay-messages.db"
